<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css"/>
    <link rel="stylesheet" href="../static/css/header.css">
    <link rel="stylesheet" href="../static/css/newQuestion.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        function createQuestion() {
            let category = $('.select select').val();
            let question1 = $('.new-question-section .input').eq(0).val();
            let question2 = $('.new-question-section .input').eq(1).val();
            $.ajax({
                type: 'POST',
                url: '/api/question',
                data: {
                    'category': category,
                    'question1': question1,
                    'question2': question2
                },
                success: function (response) {
                    if (response['result'] == 'success') {
                        console.log('카테고리:', category);
                        console.log('질문 1:', question1);
                        console.log('질문 2:', question2);
                        {#window.location.href = '/';#}
                    }
                }
            })
        }
    </script>

    <title>질문 등록</title>
</head>
<body>
<header>
    <nav id="top-nav" role="navigation" class="is-white">
        <div class="nav-logo">
            <a class="navbar-item" href="/static">
                <img src="{{ url_for('static', filename='image/kaist_sw-logo.png') }}">
            </a>
        </div>

        <div class="nav-main">
            <div class="field is-grouped">
                <button class="button">로그인</button>
            </div>
        </div>
    </nav>
</header>
<div class="divider"></div>

<div class="wrap">
    <section class="new-question-section">
        <h1 class="input-header">카테고리</h1>
        <div class="select">
            <select>
                <option>기타</option>
                <option>생활</option>
                <option>운동</option>
                <option>음식</option>
                <option>공부</option>
            </select>
        </div>
    </section>

    <section class="new-question-section">
        <h1 class="input-header">질문1</h1>
        <div class="field">
            <div class="control">
                <input class="input" type="text" placeholder="Text input">
            </div>
        </div>
    </section>

    <section class="new-question-section">
        <h1 class="input-header">질문2</h1>
        <div class="field">
            <div class="control">
                <input class="input" type="text" placeholder="Text input">
            </div>
        </div>
    </section>

    <p class="question-example">ex) 질문1(아침밥 먹기) vs 질문2(아침밥 먹을 시간에 자기)</p>

    <div class="new-question-button">
        <button class="button is-success is-light" onclick="createQuestion()">질문 등록</button>
    </div>
</div>

</body>
</html>